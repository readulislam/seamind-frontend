import{q as F,o as k,r as u,j as e,L as D,z as H,y as T}from"./index-0fc9848f.js";import{c as L,a,b as B,u as z,F as _,R as t,C as i,e as $,p as h,I as g,L as N,S as O,A as U,o as V}from"./icon-password-1afa7d26.js";import{u as b}from"./useTranslation-3f654ac1.js";import{S as p}from"./Stack-46523780.js";import{I as f}from"./InputAdornment-72c1d14a.js";import{u as W,I as j}from"./Grow-8be41cf2.js";import{T as n,B as G}from"./Container-a3d911cd.js";import{H as J}from"./index-4c95476e.js";import{P as K}from"./Paper-602b4f9c.js";import"./useSlotProps-08f0d4ab.js";import"./isHostComponent-73d6e646.js";import"./Button-29ade535.js";import"./useId-f69a38b3.js";import"./FormControl-5b83c34b.js";import"./isMuiElement-00acfeeb.js";import"./Input-f76cc72d.js";import"./utils-09056485.js";const w="/assets/icon-user-4c4ae11b.svg",M=()=>{const l=W();F(d=>d);const{t:s}=b(),y=k(),[r,m]=u.useState(!1),[I,x]=u.useState(!1),S=L().shape({name:a().required("Name is required"),surname:a().required("Surname is required"),email:a().email("Email must be a valid email address").required("Email is required"),password:a().required("Password is required"),confirmPassword:a().oneOf([B("password"),null],"Passwords must match")}),v={name:"",surname:"",email:"",password:"",confirmPassword:""},c=z({resolver:V(S),defaultValues:v}),{setError:P,handleSubmit:R,formState:{isSubmitting:Q}}=c,A=async()=>{const{name:d,surname:q,email:C,password:E,confirmPassword:X}=c.getValues();await l(H({name:d,surname:q,email:C,password:E,user_type_id:1,entity_id:1})).unwrap().then(o=>{console.log("register",o),o.user?(T.success("Registration Successful",{id:1}),y("/")):console.log(o,"response")}).catch(o=>{console.log(o,"error"),P("email",{type:"AuthFail",message:"Email already taken"})})};return e.jsxs(_,{methods:c,onSubmit:R(A),children:[e.jsxs(p,{spacing:3,alignItems:"center",children:[e.jsx(t,{sx:{border:"1px solid #00000014",borderRadius:"5px",px:2,py:1.5,boxShadow:"0px 6px 26px #00000014"},placeholder:s("enterUsername"),startIcon:e.jsx(i,{position:"start",imageIcon:w}),name:"name",label:s("name")}),e.jsx(t,{sx:{border:"1px solid #00000014",borderRadius:"5px",px:2,py:1.5,boxShadow:"0px 6px 26px #00000014"},placeholder:s("Enter surname"),startIcon:e.jsx(i,{position:"start",imageIcon:w}),name:"surname",label:s("surname")}),e.jsx(t,{sx:{border:"1px solid #00000014",borderRadius:"5px",px:2,py:1.5,boxShadow:"0px 6px 26px #00000014"},placeholder:s("enterUserEmail"),startIcon:e.jsx(i,{position:"start",imageIcon:$}),name:"email",label:"Email"}),e.jsx(t,{sx:{border:"1px solid #00000014",borderRadius:"5px",px:2,py:1.5,boxShadow:"0px 6px 26px #00000014"},placeholder:s("enterThePassword"),startIcon:e.jsx(i,{position:"start",imageIcon:h}),name:"password",label:s("password"),type:r?"text":"password",endIcon:e.jsx(f,{position:"end",children:e.jsx(j,{onClick:()=>m(!r),edge:"end",children:e.jsx(g,{sx:{color:"gray"},icon:r?"eva:eye-fill":"eva:eye-off-fill"})})})}),e.jsx(t,{sx:{border:"1px solid #00000014",borderRadius:"5px",px:2,py:1.5,boxShadow:"0px 6px 26px #00000014"},placeholder:s("enterPasswordForConfirmation"),startIcon:e.jsx(i,{position:"start",imageIcon:h}),name:"confirmPassword",label:s("passwordRepetition"),type:r?"text":"password",endIcon:e.jsx(f,{position:"end",children:e.jsx(j,{onClick:()=>m(!r),edge:"end",children:e.jsx(g,{sx:{color:"gray"},icon:r?"eva:eye-fill":"eva:eye-off-fill"})})})})]}),e.jsxs(p,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{my:4},children:[e.jsx(n,{sx:{textDecoration:"underline",color:"#0066A4"},children:s("recoverAccess")}),e.jsx(N,{sx:{width:"40%",background:"#0066A4"},fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"register"})]}),e.jsxs(p,{sx:{my:2},direction:"row",alignItems:"center",gap:1,children:[e.jsx(n,{children:s("alreadyHaveAnAccount?SignIn")}),e.jsx(D,{to:"/login",children:e.jsxs(n,{sx:{textDecoration:"underline",color:"#0066A4",cursor:"pointer"},children:[" ",s("here")]})})]}),e.jsx(O,{open:I,autoHideDuration:6e3,onClose:()=>x(!1),children:e.jsx(U,{onClose:()=>x(!1),severity:"success",sx:{width:"100%"},children:"This is a success message!"})})]})},ge=()=>{const{t:l}=b();return e.jsxs(e.Fragment,{children:[e.jsx(J,{bgColor:"#00253D",logozIndex:-1}),e.jsx(G,{sx:{position:"relative",transform:"translate(0%, -70%)"},children:e.jsxs(K,{elevation:10,sx:{padding:4,width:"30%",mx:"auto",position:"relative"},children:[e.jsx(n,{pb:4,color:"black",variant:"h4",children:l("userRegistration")}),e.jsx(M,{})]})})]})};export{ge as default};
